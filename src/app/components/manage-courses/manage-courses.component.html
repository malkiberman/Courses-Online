<div class="manage-courses-container">
    <h1>ניהול קורסים</h1>
  
    <h2>הוספת קורס</h2>
    <form [formGroup]="courseForm" (ngSubmit)="addCourse()">
      <input type="text" formControlName="title" placeholder="כותרת קורס">
      <textarea formControlName="description" placeholder="תיאור קורס"></textarea>
      <button type="submit">הוסף</button>
    </form>
  
    <h2>רשימת קורסים</h2>
    @for (course of courses; track course.id) {
      <div class="course-item">
        <h2>{{ course.title }}</h2>
        <button (click)="showCourseDetails(course.id)">פרטים</button>
        <button (click)="deleteCourse(course.id)">מחק</button>
      </div>
    } @empty {
      <p>אין קורסים זמינים כרגע.</p>
    }
  
    @if (selectedCourse) {
      <div class="course-details">
        <h2>{{ selectedCourse.title }}</h2>
        <p>{{ selectedCourse.description }}</p>
  
        <h2>עדכון קורס</h2>
        <form [formGroup]="courseForm" (ngSubmit)="updateCourse(selectedCourse.id)">
          <input type="text" formControlName="title" placeholder="כותרת קורס">
          <textarea formControlName="description" placeholder="תיאור קורס"></textarea>
          <button type="submit">עדכן</button>
        </form>
  
        <h2>הוספת שיעור</h2>
        <form [formGroup]="lessonForm" (ngSubmit)="addLesson(selectedCourse.id)">
          <input type="text" formControlName="title" placeholder="כותרת שיעור">
          <textarea formControlName="content" placeholder="תוכן שיעור"></textarea>
          <button type="submit">הוסף</button>
        </form>
  
        <h3>שיעורים</h3>
        @for (lesson of lessons; track lesson.id) {
          <div class="lesson-item">
            <h4>{{ lesson.title }}</h4>
            <p>{{ lesson.content }}</p>
            <button (click)="updateLesson(selectedCourse.id, lesson.id)">עדכן</button>
            <button (click)="deleteLesson(selectedCourse.id, lesson.id)">מחק</button>
          </div>
        } @empty {
          <p>אין שיעורים בקורס זה.</p>
        }
      </div>
    }
  </div>